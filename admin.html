<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Admin Dashboard</title>
    <link rel="stylesheet" href="Hospital Home.css">
    <link rel="stylesheet" href="admin.css">
    <link rel="stylesheet" href="ui-ux.css">
    <script src="ui.js"></script>
    <script src="profile.js"></script>
    <script src="ux.js" defer></script>
    <script src="adminjs.js" defer></script>
</head>

<body>
    <header>Admin Dashboard</header>
    <div class="dashboard-container">
        <div class="sidebar">
            <h3>Admin Menu</h3>
            <button onclick="showSection('patients')">Manage Patients</button>
            <button onclick="showPatientModal()">Add Patient</button>
            <button onclick="showSection('doctors')">Manage Doctors</button>
            <button onclick="showDoctorModal()">Add Doctor</button>
            <button onclick="showSection('accounts')">Manage Accounts</button>
            <button onclick="addAccount()">Add Account</button>
            <button onclick="showSection('contacts')">Contact Messages</button>
            <button onclick="showSection('medicines')">Manage Medicines</button>
            <button onclick="showSection('logs')">Activity Logs</button>
            <button onclick="logout()">Logout</button>
        </div>

                

                <div class="centered-page">
                    <div class="centered-card main-content">
            <!-- Patients section -->
            <section id="patients" class="card">
                <h2>Patient Records</h2>
                <div class="search-bar">
                    <input type="text" id="patientSearch" placeholder="Search patients (name, address, nhs...)">
                    <button type="button" onclick="displayPatients(document.getElementById('patientSearch').value)">Search
                    </button>
                    
                </div>
                <table id="patientTable">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Address</th>
                            <th>DOB</th>
                            <th>Phone</th>
                            <th>NHS Number</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Filled dynamically -->
                    </tbody>
                </table>
            </section>

            <!-- Doctors section -->
            <section id="doctors" class="card" style="display:none;">
                <h2>Doctor Records</h2>
                <div class="search-bar">
                    <input type="text" id="doctorSearch" placeholder="Search doctors (name, spec, nhs...)">
                    <button type="button" onclick="displayDoctors(document.getElementById('doctorSearch').value)">Search
                    </button>
                </div>
                <table id="doctorTable">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Specialization</th>
                            <th>Phone</th>
                            <th>NHS Number</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Filled dynamically -->
                    </tbody>
                </table>
            </section>

            <!-- Accounts section -->
            <section id="accounts" class="card" style="display:none;">
                <h2>Accounts</h2>
                <div class="search-bar">
                    <button type="button" onclick="showSection('accounts')">Refresh</button>
                    
                </div>
                <table id="accountTable">
                    <thead>
                        <tr>
                            <th>Username</th>
                            <th>Role</th>
                            <th>Password</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Filled dynamically -->
                    </tbody>
                </table>
            </section>

            <!-- Logs section -->
            <section id="logs" class="card" style="display:none;">
                <h2>Activity Logs</h2>
                <ul id="activityLog"></ul>
            </section>
            <!-- Medicines section -->
            <section id="medicines" class="card" style="display:none;">
                <h2>Medicines / Inventory</h2>
                <div class="search-bar">
                    <input type="text" id="medSearch" placeholder="Search medicines...">
                    <button type="button" onclick="displayMedicines(document.getElementById('medSearch').value)">Search</button>
                    <button type="button" onclick="renderMedicinesFromJSON()">Show medicines.json</button>
                </div>
                <table id="medicinesTable">
                    <thead>
                        <tr><th>Drug</th><th>Stock</th><th>Actions</th></tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </section>
            <!-- Contact messages section -->
            <section id="contacts" class="card" style="display:none;">
                <h2>Contact Messages</h2>
                <div class="search-bar" style="margin-bottom:8px;">
                    <input type="text" id="contactSearch" placeholder="Search messages (name, email, message)">
                    
                </div>
                <table id="contactsTable">
                    <thead>
                        <tr><th>Name</th><th>Email</th><th>Phone</th><th>Message</th><th>Time</th><th>Actions</th></tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </section>
                    </div>
                </div>
    </div>

    <!-- Patient Add Modal -->
    <div id="patientModalBackdrop" class="modal-backdrop" role="dialog" aria-modal="true" aria-hidden="true">
        <div class="modal-card" role="document">
            <h3>Add New Patient</h3>
            <form id="patientModalForm" class="modal-form" onsubmit="event.preventDefault(); submitPatientModal();">
                <label for="p_first">First name</label>
                <input id="p_first" name="p_first" type="text" required />

                <label for="p_last">Last name</label>
                <input id="p_last" name="p_last" type="text" />

                <label for="p_dob">Date of birth</label>
                <input id="p_dob" name="p_dob" type="date" />

                <label for="p_phone">Phone</label>
                <input id="p_phone" name="p_phone" type="tel" />

                <label for="p_nhs">NHS Number</label>
                <input id="p_nhs" name="p_nhs" type="text" />

                <label for="p_address" class="full">Address</label>
                <input id="p_address" name="p_address" class="full" type="text" />

                <label for="p_notes" class="full">Notes</label>
                <textarea id="p_notes" name="p_notes" class="full" rows="3"></textarea>

                <div class="modal-actions full">
                    <button type="button" class="btn modal-cancel" onclick="closePatientModal()">Cancel</button>
                    <button type="submit" class="btn">Add Patient</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Doctor Add Modal -->
    <div id="doctorModalBackdrop" class="modal-backdrop" role="dialog" aria-modal="true" aria-hidden="true">
        <div class="modal-card" role="document">
            <h3>Add New Doctor</h3>
            <form id="doctorModalForm" class="modal-form" onsubmit="event.preventDefault(); submitDoctorModal();">
                <label for="d_first">First name</label>
                <input id="d_first" name="d_first" type="text" required />

                <label for="d_last">Last name</label>
                <input id="d_last" name="d_last" type="text" />

                <label for="d_spec">Specialization</label>
                <input id="d_spec" name="d_spec" type="text" />

                <label for="d_phone">Phone</label>
                <input id="d_phone" name="d_phone" type="tel" />

                <label for="d_nhs">NHS Number</label>
                <input id="d_nhs" name="d_nhs" type="text" />

                <label for="d_notes" class="full">Notes</label>
                <textarea id="d_notes" name="d_notes" class="full" rows="3"></textarea>

                <div class="modal-actions full">
                    <button type="button" class="btn modal-cancel" onclick="closeDoctorModal()">Cancel</button>
                    <button type="submit" class="btn">Add Doctor</button>
                </div>
            </form>
        </div>
    </div>
</body>

</html>